"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([[316],{8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var i=s(6540);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},9439:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"chapter3","title":"Chapter 3: ROS 2 Fundamentals","description":"Master the industry-standard framework for robot software development.","source":"@site/docs/chapter3.md","sourceDirName":".","slug":"/chapter3","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter3","draft":false,"unlisted":false,"editUrl":"https://github.com/SidraRaza/Physical-AI-Humanoid-Robotics/edit/main/docs/chapter3.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Chapter 3: ROS 2 Fundamentals","description":"Master the industry-standard framework for robot software development.","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 2: Basics of Humanoid Robotics","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter2"},"next":{"title":"Chapter 4: Perception Systems","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter4"}}');var r=s(4848),t=s(8453);const a={title:"Chapter 3: ROS 2 Fundamentals",description:"Master the industry-standard framework for robot software development.",sidebar_position:3},l="ROS 2 Fundamentals",o={},d=[{value:"Introduction to ROS 2",id:"introduction-to-ros-2",level:2},{value:"What is ROS 2?",id:"what-is-ros-2",level:3},{value:"Why ROS 2 Over ROS 1?",id:"why-ros-2-over-ros-1",level:3},{value:"ROS 2 Distributions",id:"ros-2-distributions",level:3},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Messages and Interfaces",id:"messages-and-interfaces",level:2},{value:"Standard Message Types",id:"standard-message-types",level:3},{value:"Custom Message Definition",id:"custom-message-definition",level:3},{value:"Package Structure",id:"package-structure",level:2},{value:"Creating a Package",id:"creating-a-package",level:3},{value:"Package.xml",id:"packagexml",level:3},{value:"Launch System",id:"launch-system",level:2},{value:"Launch Files",id:"launch-files",level:3},{value:"TF2: Coordinate Transforms",id:"tf2-coordinate-transforms",level:2},{value:"Understanding TF2",id:"understanding-tf2",level:3},{value:"Broadcasting Transforms",id:"broadcasting-transforms",level:3},{value:"Listening to Transforms",id:"listening-to-transforms",level:3},{value:"Command Line Tools",id:"command-line-tools",level:2},{value:"Essential Commands",id:"essential-commands",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"QoS Profiles",id:"qos-profiles",level:3},{value:"Common QoS Configurations",id:"common-qos-configurations",level:3},{value:"Visualization with RViz2",id:"visualization-with-rviz2",level:2},{value:"Using RViz2",id:"using-rviz2",level:3},{value:"Simulation Integration",id:"simulation-integration",level:2},{value:"Gazebo Integration",id:"gazebo-integration",level:3},{value:"Isaac Sim Integration",id:"isaac-sim-integration",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Node Design",id:"node-design",level:3},{value:"Topic Naming",id:"topic-naming",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Summary",id:"summary",level:2},{value:"Review Questions",id:"review-questions",level:2},{value:"Hands-On Exercise",id:"hands-on-exercise",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ros-2-fundamentals",children:"ROS 2 Fundamentals"})}),"\n",(0,r.jsx)(n.p,{children:"The Robot Operating System 2 (ROS 2) is the industry-standard middleware framework for building robotic systems. This chapter provides a comprehensive introduction to ROS 2, covering its architecture, core concepts, and practical usage for Physical AI development."}),"\n",(0,r.jsx)(n.h2,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"}),"\n",(0,r.jsx)(n.h3,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,r.jsxs)(n.p,{children:["ROS 2 is not an operating system in the traditional sense, but rather a ",(0,r.jsx)(n.strong,{children:"middleware framework"})," that provides:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Communication Infrastructure"}),": Standardized message passing between components"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hardware Abstraction"}),": Unified interfaces for diverse robot hardware"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Software Reusability"}),": Modular packages that can be shared and reused"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Development Tools"}),": Visualization, debugging, and analysis utilities"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Ecosystem"}),": Large community and extensive package library"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"why-ros-2-over-ros-1",children:"Why ROS 2 Over ROS 1?"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 was designed to address limitations of ROS 1:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"ROS 1"}),(0,r.jsx)(n.th,{children:"ROS 2"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Real-time Support"}),(0,r.jsx)(n.td,{children:"Limited"}),(0,r.jsx)(n.td,{children:"Built-in"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Multi-robot"}),(0,r.jsx)(n.td,{children:"Challenging"}),(0,r.jsx)(n.td,{children:"Native support"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Security"}),(0,r.jsx)(n.td,{children:"Minimal"}),(0,r.jsx)(n.td,{children:"DDS security"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Embedded Systems"}),(0,r.jsx)(n.td,{children:"Difficult"}),(0,r.jsx)(n.td,{children:"Better support"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Production Ready"}),(0,r.jsx)(n.td,{children:"Research-focused"}),(0,r.jsx)(n.td,{children:"Production-ready"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"ros-2-distributions",children:"ROS 2 Distributions"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 releases are named alphabetically:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Humble Hawksbill"})," (2022): LTS until 2027"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Iron Irwini"})," (2023): Standard support"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Jazzy Jalisco"})," (2024): Latest features"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,r.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Nodes"})," are the fundamental units of computation in ROS 2:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MinimalNode(Node):\n    def __init__(self):\n        super().__init__('minimal_node')\n        self.get_logger().info('Node has been started')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MinimalNode()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Properties:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Single executable process"}),"\n",(0,r.jsx)(n.li,{children:"Can contain multiple publishers, subscribers, services"}),"\n",(0,r.jsx)(n.li,{children:"Should have a single, well-defined purpose"}),"\n",(0,r.jsx)(n.li,{children:"Communicate with other nodes via ROS 2 interfaces"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"topics",children:"Topics"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Topics"})," enable asynchronous, many-to-many communication:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     /sensor_data    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Sensor  \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba \u2502Processor\u2502\n\u2502  Node   \u2502    (Publisher)      \u2502  Node   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                               \u2502\n     \u2502                               \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502  Logger  \u2502\n              \u2502   Node   \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Publisher Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        self.timer = self.create_timer(0.5, self.timer_callback)\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello, ROS 2!'\n        self.publisher_.publish(msg)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Subscriber Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from std_msgs.msg import String\n\nclass MinimalSubscriber(Node):\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'Received: {msg.data}')\n"})}),"\n",(0,r.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Services"})," provide synchronous request-response communication:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Client \u2502  \u2500\u2500\u2500\u2500 Request \u2500\u2500\u2500\u2500\u25ba  \u2502 Server \u2502\n\u2502  Node  \u2502                      \u2502  Node  \u2502\n\u2502        \u2502  \u25c4\u2500\u2500\u2500 Response \u2500\u2500\u2500\u2500  \u2502        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Service Server:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from example_interfaces.srv import AddTwoInts\n\nclass AddTwoIntsServer(Node):\n    def __init__(self):\n        super().__init__('add_two_ints_server')\n        self.srv = self.create_service(\n            AddTwoInts,\n            'add_two_ints',\n            self.add_callback)\n\n    def add_callback(self, request, response):\n        response.sum = request.a + request.b\n        return response\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Service Client:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class AddTwoIntsClient(Node):\n    def __init__(self):\n        super().__init__('add_two_ints_client')\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\n\n    async def send_request(self, a, b):\n        request = AddTwoInts.Request()\n        request.a = a\n        request.b = b\n        future = self.cli.call_async(request)\n        return await future\n"})}),"\n",(0,r.jsx)(n.h3,{id:"actions",children:"Actions"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Actions"})," are for long-running tasks with feedback:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      Goal       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Action \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502 Action \u2502\n\u2502 Client \u2502                 \u2502 Server \u2502\n\u2502        \u2502 \u25c4\u2500\u2500\u2500 Feedback \u2500\u2500\u2502        \u2502\n\u2502        \u2502 \u25c4\u2500\u2500\u2500 Result \u2500\u2500\u2500\u2500\u2502        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.p,{children:"Actions combine:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A goal (request)"}),"\n",(0,r.jsx)(n.li,{children:"Continuous feedback"}),"\n",(0,r.jsx)(n.li,{children:"A final result"}),"\n",(0,r.jsx)(n.li,{children:"Cancellation capability"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Parameters"})," allow runtime configuration of nodes:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class ParameterNode(Node):\n    def __init__(self):\n        super().__init__('parameter_node')\n        self.declare_parameter('my_parameter', 'default_value')\n\n        # Get parameter value\n        param_value = self.get_parameter('my_parameter').value\n\n        # Parameter callback for changes\n        self.add_on_set_parameters_callback(self.param_callback)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"messages-and-interfaces",children:"Messages and Interfaces"}),"\n",(0,r.jsx)(n.h3,{id:"standard-message-types",children:"Standard Message Types"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 provides common message types:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Geometry Messages:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"geometry_msgs/Point"}),": 3D point (x, y, z)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"geometry_msgs/Pose"}),": Position + orientation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"geometry_msgs/Twist"}),": Linear + angular velocity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"geometry_msgs/Transform"}),": Coordinate transformation"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sensor Messages:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sensor_msgs/Image"}),": Camera images"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sensor_msgs/PointCloud2"}),": 3D point clouds"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sensor_msgs/LaserScan"}),": LIDAR scans"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sensor_msgs/Imu"}),": IMU data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sensor_msgs/JointState"}),": Joint positions/velocities"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"custom-message-definition",children:"Custom Message Definition"}),"\n",(0,r.jsxs)(n.p,{children:["Create custom messages in ",(0,r.jsx)(n.code,{children:".msg"})," files:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# HumanoidState.msg\nstd_msgs/Header header\nfloat64[] joint_positions\nfloat64[] joint_velocities\ngeometry_msgs/Pose base_pose\nbool is_balanced\n"})}),"\n",(0,r.jsx)(n.h2,{id:"package-structure",children:"Package Structure"}),"\n",(0,r.jsx)(n.h3,{id:"creating-a-package",children:"Creating a Package"}),"\n",(0,r.jsx)(n.p,{children:"A ROS 2 package contains:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"my_robot_package/\n\u251c\u2500\u2500 package.xml          # Package metadata\n\u251c\u2500\u2500 setup.py             # Python build info\n\u251c\u2500\u2500 setup.cfg            # Setup configuration\n\u251c\u2500\u2500 resource/            # Package marker\n\u2502   \u2514\u2500\u2500 my_robot_package\n\u251c\u2500\u2500 my_robot_package/    # Python modules\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 node_script.py\n\u251c\u2500\u2500 launch/              # Launch files\n\u2502   \u2514\u2500\u2500 robot.launch.py\n\u251c\u2500\u2500 config/              # Configuration files\n\u2502   \u2514\u2500\u2500 params.yaml\n\u251c\u2500\u2500 msg/                 # Custom messages\n\u2502   \u2514\u2500\u2500 CustomMsg.msg\n\u2514\u2500\u2500 srv/                 # Custom services\n    \u2514\u2500\u2500 CustomSrv.srv\n"})}),"\n",(0,r.jsx)(n.h3,{id:"packagexml",children:"Package.xml"}),"\n",(0,r.jsx)(n.p,{children:"Define package dependencies:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<package format="3">\n  <name>my_robot_package</name>\n  <version>0.0.1</version>\n  <description>My robot package</description>\n\n  <depend>rclpy</depend>\n  <depend>std_msgs</depend>\n  <depend>sensor_msgs</depend>\n  <depend>geometry_msgs</depend>\n\n  <export>\n    <build_type>ament_python</build_type>\n  </export>\n</package>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"launch-system",children:"Launch System"}),"\n",(0,r.jsx)(n.h3,{id:"launch-files",children:"Launch Files"}),"\n",(0,r.jsx)(n.p,{children:"Launch files orchestrate multiple nodes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# robot.launch.py\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\n\ndef generate_launch_description():\n    return LaunchDescription([\n        DeclareLaunchArgument(\n            'robot_name',\n            default_value='humanoid',\n            description='Name of the robot'\n        ),\n\n        Node(\n            package='my_robot_package',\n            executable='sensor_node',\n            name='sensor_node',\n            parameters=[{'rate': 100.0}],\n            remappings=[('/input', '/sensor/raw')]\n        ),\n\n        Node(\n            package='my_robot_package',\n            executable='control_node',\n            name='control_node',\n            parameters=['config/control_params.yaml']\n        ),\n    ])\n"})}),"\n",(0,r.jsx)(n.h2,{id:"tf2-coordinate-transforms",children:"TF2: Coordinate Transforms"}),"\n",(0,r.jsx)(n.h3,{id:"understanding-tf2",children:"Understanding TF2"}),"\n",(0,r.jsx)(n.p,{children:"TF2 manages coordinate frame transformations:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"           world\n             \u2502\n             \u25bc\n          base_link\n         /        \\\n        \u25bc          \u25bc\n   left_arm    right_arm\n       \u2502           \u2502\n       \u25bc           \u25bc\n   left_hand   right_hand\n"})}),"\n",(0,r.jsx)(n.h3,{id:"broadcasting-transforms",children:"Broadcasting Transforms"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from tf2_ros import TransformBroadcaster\nfrom geometry_msgs.msg import TransformStamped\n\nclass FrameBroadcaster(Node):\n    def __init__(self):\n        super().__init__('frame_broadcaster')\n        self.tf_broadcaster = TransformBroadcaster(self)\n        self.timer = self.create_timer(0.1, self.broadcast_timer_callback)\n\n    def broadcast_timer_callback(self):\n        t = TransformStamped()\n        t.header.stamp = self.get_clock().now().to_msg()\n        t.header.frame_id = 'world'\n        t.child_frame_id = 'base_link'\n        t.transform.translation.x = 1.0\n        t.transform.translation.y = 0.0\n        t.transform.translation.z = 0.0\n        t.transform.rotation.w = 1.0\n\n        self.tf_broadcaster.sendTransform(t)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"listening-to-transforms",children:"Listening to Transforms"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from tf2_ros import Buffer, TransformListener\n\nclass FrameListener(Node):\n    def __init__(self):\n        super().__init__('frame_listener')\n        self.tf_buffer = Buffer()\n        self.tf_listener = TransformListener(self.tf_buffer, self)\n\n    def get_transform(self, target_frame, source_frame):\n        try:\n            transform = self.tf_buffer.lookup_transform(\n                target_frame,\n                source_frame,\n                rclpy.time.Time())\n            return transform\n        except Exception as e:\n            self.get_logger().error(f'Transform error: {e}')\n            return None\n"})}),"\n",(0,r.jsx)(n.h2,{id:"command-line-tools",children:"Command Line Tools"}),"\n",(0,r.jsx)(n.h3,{id:"essential-commands",children:"Essential Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# List active nodes\nros2 node list\n\n# Show node info\nros2 node info /node_name\n\n# List topics\nros2 topic list\n\n# Echo topic messages\nros2 topic echo /topic_name\n\n# Publish to topic\nros2 topic pub /topic_name std_msgs/String "data: \'hello\'"\n\n# Call a service\nros2 service call /service_name example_interfaces/srv/AddTwoInts "{a: 1, b: 2}"\n\n# List parameters\nros2 param list\n\n# Get/set parameters\nros2 param get /node_name param_name\nros2 param set /node_name param_name value\n\n# Launch a file\nros2 launch package_name launch_file.py\n'})}),"\n",(0,r.jsx)(n.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(n.h3,{id:"qos-profiles",children:"QoS Profiles"}),"\n",(0,r.jsx)(n.p,{children:"QoS settings control communication reliability:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from rclpy.qos import QoSProfile, ReliabilityPolicy, HistoryPolicy\n\nsensor_qos = QoSProfile(\n    reliability=ReliabilityPolicy.BEST_EFFORT,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=10\n)\n\ncommand_qos = QoSProfile(\n    reliability=ReliabilityPolicy.RELIABLE,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=1\n)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"common-qos-configurations",children:"Common QoS Configurations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Use Case"}),(0,r.jsx)(n.th,{children:"Reliability"}),(0,r.jsx)(n.th,{children:"History"}),(0,r.jsx)(n.th,{children:"Durability"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Sensor data"}),(0,r.jsx)(n.td,{children:"Best Effort"}),(0,r.jsx)(n.td,{children:"Keep Last"}),(0,r.jsx)(n.td,{children:"Volatile"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Commands"}),(0,r.jsx)(n.td,{children:"Reliable"}),(0,r.jsx)(n.td,{children:"Keep Last"}),(0,r.jsx)(n.td,{children:"Volatile"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Configuration"}),(0,r.jsx)(n.td,{children:"Reliable"}),(0,r.jsx)(n.td,{children:"Keep Last"}),(0,r.jsx)(n.td,{children:"Transient Local"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"visualization-with-rviz2",children:"Visualization with RViz2"}),"\n",(0,r.jsx)(n.h3,{id:"using-rviz2",children:"Using RViz2"}),"\n",(0,r.jsx)(n.p,{children:"RViz2 visualizes robot state and sensor data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Robot Model"}),": URDF visualization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TF Frames"}),": Coordinate frame display"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Point Clouds"}),": LIDAR and depth data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Images"}),": Camera feeds"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Markers"}),": Custom visualizations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Paths"}),": Navigation trajectories"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"simulation-integration",children:"Simulation Integration"}),"\n",(0,r.jsx)(n.h3,{id:"gazebo-integration",children:"Gazebo Integration"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 integrates with Gazebo simulator:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'\x3c!-- robot.urdf with Gazebo plugins --\x3e\n<gazebo>\n  <plugin name="joint_state_publisher"\n          filename="libgazebo_ros_joint_state_publisher.so">\n    <joint_name>joint1</joint_name>\n    <joint_name>joint2</joint_name>\n  </plugin>\n</gazebo>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"isaac-sim-integration",children:"Isaac Sim Integration"}),"\n",(0,r.jsx)(n.p,{children:"NVIDIA Isaac Sim also supports ROS 2:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Native ROS 2 bridge"}),"\n",(0,r.jsx)(n.li,{children:"High-fidelity physics"}),"\n",(0,r.jsx)(n.li,{children:"Synthetic data generation"}),"\n",(0,r.jsx)(n.li,{children:"GPU-accelerated simulation"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"node-design",children:"Node Design"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Single Responsibility"}),": One purpose per node"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configurable"}),": Use parameters for settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documented"}),": Clear API documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tested"}),": Unit and integration tests"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"topic-naming",children:"Topic Naming"}),"\n",(0,r.jsx)(n.p,{children:"Follow conventions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use lowercase with underscores"}),"\n",(0,r.jsx)(n.li,{children:"Prefix with namespace when appropriate"}),"\n",(0,r.jsxs)(n.li,{children:["Use standard suffixes (e.g., ",(0,r.jsx)(n.code,{children:"/image_raw"}),", ",(0,r.jsx)(n.code,{children:"/cmd_vel"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class RobustNode(Node):\n    def __init__(self):\n        super().__init__('robust_node')\n\n    def safe_operation(self):\n        try:\n            # Risky operation\n            result = self.perform_task()\n            return result\n        except Exception as e:\n            self.get_logger().error(f'Operation failed: {e}')\n            return None\n"})}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 provides the foundation for developing Physical AI systems:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Nodes"}),": Modular computational units"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Topics"}),": Asynchronous pub/sub communication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Services"}),": Synchronous request/response"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Actions"}),": Long-running tasks with feedback"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TF2"}),": Coordinate frame management"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch"}),": Multi-node orchestration"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key benefits for Physical AI:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Real-time capable architecture"}),"\n",(0,r.jsx)(n.li,{children:"Extensive sensor and actuator support"}),"\n",(0,r.jsx)(n.li,{children:"Rich ecosystem of packages"}),"\n",(0,r.jsx)(n.li,{children:"Strong simulation integration"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Explain the difference between topics, services, and actions."}),"\n",(0,r.jsx)(n.li,{children:"When would you use BEST_EFFORT vs RELIABLE QoS?"}),"\n",(0,r.jsx)(n.li,{children:"How does TF2 help in managing coordinate frames?"}),"\n",(0,r.jsx)(n.li,{children:"What are the key components of a ROS 2 package?"}),"\n",(0,r.jsx)(n.li,{children:"Describe the role of launch files in a robotics application."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"hands-on-exercise",children:"Hands-On Exercise"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Exercise 3.1: Simple Robot Controller"})}),"\n",(0,r.jsx)(n.p,{children:"Create a ROS 2 package that:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Subscribes to ",(0,r.jsx)(n.code,{children:"/sensor_data"})," (simulated sensor readings)"]}),"\n",(0,r.jsxs)(n.li,{children:["Publishes control commands to ",(0,r.jsx)(n.code,{children:"/cmd_vel"})]}),"\n",(0,r.jsx)(n.li,{children:"Implements a simple proportional controller"}),"\n",(0,r.jsx)(n.li,{children:"Uses parameters for controller gains"}),"\n",(0,r.jsx)(n.li,{children:"Includes a launch file to start all components"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Test your controller with a simulated robot or mock data publisher."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);