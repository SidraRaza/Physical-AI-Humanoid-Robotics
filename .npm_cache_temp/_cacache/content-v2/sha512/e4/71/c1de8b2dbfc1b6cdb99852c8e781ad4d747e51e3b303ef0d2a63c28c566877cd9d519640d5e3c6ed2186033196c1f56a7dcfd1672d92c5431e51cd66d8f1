{"_id":"combine-promises","_rev":"3-8e43294b388e85d02a73dfa69f4295e7","name":"combine-promises","dist-tags":{"latest":"1.2.0"},"versions":{"1.0.0":{"version":"1.0.0","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","engines":{"node":">=10"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build","size":"size-limit","analyze":"size-limit --why"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"name":"combine-promises","author":{"name":"slorber"},"module":"dist/combine-promises.esm.js","size-limit":[{"path":"dist/combine-promises.cjs.production.min.js","limit":"10 KB"},{"path":"dist/combine-promises.esm.js","limit":"10 KB"}],"devDependencies":{"@size-limit/preset-small-lib":"^4.10.2","husky":"^6.0.0","size-limit":"^4.10.2","tsdx":"^0.14.1","tslib":"^2.2.0","typescript":"^4.2.3"},"description":"Like Promise.all(array) but with an object.","licenseText":"MIT License\n\nCopyright (c) 2021 Sébastien Lorber\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n","_id":"combine-promises@1.0.0","dist":{"shasum":"589d181d01d4fa197b46ea95af9e5c790b175c4e","integrity":"sha512-sw1nPhlueRQ8aWjr6ca1Caf7JaUJiCifDFy16AsGMktiDmk4PLsXmRQgscpsG9dgFZgzusDi7SHJyOS5IhF5xw==","tarball":"https://registry.npmjs.org/combine-promises/-/combine-promises-1.0.0.tgz","fileCount":15,"unpackedSize":12261,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgbXkxCRA9TVsSAnZWagAACioP/RgGKJIBZDRSNVcRUAqN\nM5OQZhoaw6BECZ2kw9Q8HJ5uAyfYci989520BeD265e1QaTrNEPrp22cS5yG\nHk8tRt/sxwEq+ZZ8fZk7luN//1GXohcfG7sM9QNlWdbmSyroe8ZPKVCFFjGf\nFm50di13hgPcv/2vTA+plkqSrW8FkBj/qy8ajcsfrzo0IlPobsBN9v167kWF\nPSEb2Fv/04VP/k6wlpS+VEZ6KlI1kqDHCDF2+EYVbDt7lsKMlMmejOor7MPM\nJnfzTy86Dz17Y4YzzDHkTUL9YftHqk1sZlRNqWe57adPLCgeSRq+HsF2D6m0\nvOP+Pif2lX00JUxKL6vS6DlEYgYxPQ+5SqREP+p76paf6wrQvXbCb6a0w3NA\nR8tAnxlqWwV9WOoMeI/lD0XbaYZ22EtACzN1TFqPNzcAMP7cMZsu26TPvbc1\nF1DD9VKdnIf5DZTJ/ZvrslECcz1Ph7GonQVjx9FQC+8brVEcMKbHKTbUXemW\ncImFnuMIOt7nqTMKBSE+YatfuzH0TOXY3xovmbU/Z11+QkAmyKhkBS3iuQdQ\ntjb+DDPAgPc9PowNa4dN3s2vmgXSPniQfhcMD2Z7tHHlPuKOFnxYbDfXUlJ/\naolzmw8BJln5r3uVdanM9IQmCIZdCCjF63ekObpmi9fBMuq0zwYw1WCUEpkw\nYdcN\r\n=CWqY\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIGt98qrJ88EHYLjKzVhBn5Mjnf43taB64Wzag+yeXj9xAiEAtr+VG2FxaRgciBUbi+fxOiV+H2C/kf/neSIM6ru6e9s="}]},"_npmUser":{"name":"slorber","email":"lorber.sebastien@gmail.com"},"directories":{},"maintainers":[{"name":"slorber","email":"lorber.sebastien@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/combine-promises_1.0.0_1617787184624_0.5888021116578597"},"_hasShrinkwrap":false},"1.1.0":{"name":"combine-promises","author":{"name":"slorber"},"version":"1.1.0","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","module":"dist/combine-promises.esm.js","engines":{"node":">=10"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build","size":"size-limit","analyze":"size-limit --why"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"size-limit":[{"path":"dist/combine-promises.cjs.production.min.js","limit":"150 B"},{"path":"dist/combine-promises.esm.js","limit":"150 B"}],"devDependencies":{"@size-limit/preset-small-lib":"^4.10.2","husky":"^6.0.0","size-limit":"^4.10.2","tsdx":"^0.14.1","tslib":"^2.2.0","typescript":"^4.2.3"},"description":"[![NPM](https://img.shields.io/npm/dm/combine-promises.svg)](https://www.npmjs.com/package/combine-promises) ![Size min](https://img.shields.io/bundlephobia/min/combine-promises.svg) ![Size minzip](https://img.shields.io/bundlephobia/minzip/combine-promis","licenseText":"MIT License\n\nCopyright (c) 2021 Sébastien Lorber\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n","_id":"combine-promises@1.1.0","dist":{"shasum":"72db90743c0ca7aab7d0d8d2052fd7b0f674de71","integrity":"sha512-ZI9jvcLDxqwaXEixOhArm3r7ReIivsXkpbyEWyeOhzz1QS0iSgBPnWvEqvIQtYyamGCYA88gFhmUrs9hrrQ0pg==","tarball":"https://registry.npmjs.org/combine-promises/-/combine-promises-1.1.0.tgz","fileCount":15,"unpackedSize":13048,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgbXtqCRA9TVsSAnZWagAAevwP/0aCWu0o8mKYSnBvAWyQ\nUyOZsEyq6anhG2VhAadAdRFl9/DZ2fjACX7ZgB0bOl+ElUOnREqhiNlp+W2N\nZJcMhlNhX9gsuXDcN26zkQNAsjV4oWlWdNtpgBKiExvEOo5AEAE/VfiF6Hh+\nl1sGLOD1rZZkmsC0Q67da6MulnOw5o0+qYv+CYRux8bEBvVYCGwinbTn2LOR\nS7yUBBKRYPCZLPmP09rA7COTcYyJZulBOzs0SRq6kJe1R/hIBep5YgtQzf6A\nXpzpfA36HlAVDlukumAvNLTEgtwMgpKnWFqLqdxhNdTDUUkvZzE/IIpFcUpv\nIsSxOqmaRY3fjzyftauHTr/G6gKjOSe/sJGxGsfDaOjcZhAAM/5NwVsxXxo6\n1jWerqVbvH1VNxE3S8Fv7ahEBNr793NRURwUoUNRpJ/rhcM7Cs8b0j1E7iFk\n+g0s7IV9m50+svWzmyj1GEvh58iF2cOC0Kx+MJytGugKhrCzWP+YBKkXZYzL\nJR9XyK8HI68nOgwZMDqmabtt43tPopEEM7fwbw88JCpwMdCr1mqLpap39SvF\nZKLt/PDZOpy86mk38VJKnjPaLczc0b9SZua2oHre4xjipvVBe/vxWNT8vmOc\nwOftu8CR6+2emqO5jaimfB8fPYVVihAK3wBxor2Avbp2FL+E/BNMbw+xgQMN\n44yY\r\n=ZjJy\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIBeZ/Qyw1EN3x4T13wl5IKm21YhMKcag/Od/go81Dk4+AiEAukYzmQ7K/6Y1sYOR661XidGncvnGubYpc/QB5iWXxc0="}]},"_npmUser":{"name":"slorber","email":"lorber.sebastien@gmail.com"},"directories":{},"maintainers":[{"name":"slorber","email":"lorber.sebastien@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/combine-promises_1.1.0_1617787754506_0.3351942175691145"},"_hasShrinkwrap":false},"1.2.0":{"name":"combine-promises","author":{"name":"slorber"},"version":"1.2.0","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","module":"dist/combine-promises.esm.js","engines":{"node":">=10"},"repository":{"type":"git","url":"https://github.com/slorber/combine-promises.git"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build","size":"size-limit","analyze":"size-limit --why"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"size-limit":[{"path":"dist/combine-promises.cjs.production.min.js","limit":"150 B"},{"path":"dist/combine-promises.esm.js","limit":"150 B"}],"devDependencies":{"@size-limit/preset-small-lib":"^4.10.2","husky":"^6.0.0","size-limit":"^4.10.2","tsdx":"^0.14.1","tslib":"^2.2.0","typescript":"^4.2.3"},"description":"[![NPM](https://img.shields.io/npm/dm/combine-promises.svg)](https://www.npmjs.com/package/combine-promises) [![CI](https://github.com/slorber/combine-promises/actions/workflows/main.yml/badge.svg)](https://github.com/slorber/combine-promises/actions/work","licenseText":"MIT License\n\nCopyright (c) 2021 Sébastien Lorber\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n","_id":"combine-promises@1.2.0","dist":{"shasum":"5f2e68451862acf85761ded4d9e2af7769c2ca6a","integrity":"sha512-VcQB1ziGD0NXrhKxiwyNbCDmRzs/OShMs2GqW2DlU2A/Sd0nQxE1oWDAE5O0ygSx5mgQOn9eIFh7yKPgFRVkPQ==","tarball":"https://registry.npmjs.org/combine-promises/-/combine-promises-1.2.0.tgz","fileCount":15,"unpackedSize":13584,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCID7Ur4qCgvZ64swqehtXABblv5Svte3GXxvo6Gr+uFgBAiAZdPRNkZ1B31fNVY+O/P8XwDctkYglCbufmLinCEqQaw=="}]},"_npmUser":{"name":"slorber","email":"lorber.sebastien@gmail.com"},"directories":{},"maintainers":[{"name":"slorber","email":"lorber.sebastien@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/combine-promises_1.2.0_1692268656450_0.9490421174842931"},"_hasShrinkwrap":false}},"time":{"created":"2021-04-07T09:19:44.623Z","1.0.0":"2021-04-07T09:19:44.795Z","modified":"2023-08-17T10:37:36.833Z","1.1.0":"2021-04-07T09:29:14.623Z","1.2.0":"2023-08-17T10:37:36.671Z"},"maintainers":[{"name":"slorber","email":"lorber.sebastien@gmail.com"}],"description":"[![NPM](https://img.shields.io/npm/dm/combine-promises.svg)](https://www.npmjs.com/package/combine-promises) [![CI](https://github.com/slorber/combine-promises/actions/workflows/main.yml/badge.svg)](https://github.com/slorber/combine-promises/actions/work","author":{"name":"slorber"},"license":"MIT","readme":"# Combine-Promises\n\n[![NPM](https://img.shields.io/npm/dm/combine-promises.svg)](https://www.npmjs.com/package/combine-promises)\n[![CI](https://github.com/slorber/combine-promises/actions/workflows/main.yml/badge.svg)](https://github.com/slorber/combine-promises/actions/workflows/main.yml)\n![Size min](https://img.shields.io/bundlephobia/min/combine-promises.svg)\n![Size minzip](https://img.shields.io/bundlephobia/minzip/combine-promises.svg)\n\nLike `Promise.all([])` but for objects.\n\n```ts\nimport combinePromises from 'combine-promises';\n\nconst { user, company } = await combinePromises({\n  user: fetchUser(),\n  company: fetchCompany(),\n});\n```\n\nWhy:\n\n- Insensitive to destructuring order\n- Simpler async functional code\n\nFeatures:\n\n- TypeScript support\n- Lightweight\n- Feature complete\n- Well-tested\n- ESM / CJS\n\n--- \n\n# Sponsor\n\n**[ThisWeekInReact.com](https://thisweekinreact.com)**: the best newsletter to stay up-to-date with the React ecosystem:\n\n[![ThisWeekInReact.com banner](https://user-images.githubusercontent.com/749374/136185889-ebdb67cd-ec78-4655-b88b-79a6c134acd2.png)](https://thisweekinreact.com)\n\n---\n\n## Install\n\n```\nnpm install combine-promises\n// OR\nyarn add combine-promises\n```\n\n## TypeScript support\n\nGood, native and strict TypeScript support:\n\n- Return type correctly inferred from the input object\n- All object values should be async\n- Only accept objects (reject arrays, null, undefined...)\n\n```ts\nconst result: { user: User; company: Company } = await combinePromises({\n  user: fetchUser(),\n  company: fetchCompany(),\n});\n```\n\n## Insensitive to destructuring order\n\nA common error with `Promise.all` is to have a typo in the destructuring order.\n\n```js\n// Bad: destructuring order reversed\nconst [company, user] = await Promise.all([fetchUser(), fetchCompany()]);\n```\n\nThis becomes more dangerous as size of the promises array grows.\n\nWith `combinePromises`, you are using explicit names instead of array indices, which makes the code more robust and not sensitive to destructuring order:\n\n```js\n// Good: we don't care about the order anymore\nconst { company, user } = await combinePromises({\n  user: fetchUser(),\n  company: fetchCompany(),\n});\n```\n\n## Simpler async functional code\n\nSuppose you have an object representing a friendship like `{user1: \"userId-1\", user2: \"userId-2\"}`, and you want to transform it to `{user1: User, user2: User}`.\n\nYou can easily do that:\n\n```js\nimport combinePromises from 'combine-promises';\nimport { mapValues } from 'lodash'; // can be replaced by vanilla ES if you prefer\n\nconst friendsIds = { user1: 'userId-1', user2: 'userId-2' };\n\nconst friends = await combinePromises(mapValues(friendsIds, fetchUserById));\n```\n\nWithout this library: good luck to keep your code simple.\n\n## Inspirations\n\nName inspired by [combineReducers](https://redux.js.org/api/combinereducers) from Redux.\n","readmeFilename":"README.md","repository":{"type":"git","url":"https://github.com/slorber/combine-promises.git"}}