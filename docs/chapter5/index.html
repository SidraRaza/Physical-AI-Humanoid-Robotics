<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-chapter5" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Chapter 5: Motion Planning &amp; Control | Physical AI Textbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sidraraza.github.io/Physical-AI-Humanoid-Robotics/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://sidraraza.github.io/Physical-AI-Humanoid-Robotics/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://sidraraza.github.io/Physical-AI-Humanoid-Robotics/docs/chapter5"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chapter 5: Motion Planning &amp; Control | Physical AI Textbook"><meta data-rh="true" name="description" content="Learn how humanoid robots plan, balance, and move safely."><meta data-rh="true" property="og:description" content="Learn how humanoid robots plan, balance, and move safely."><link data-rh="true" rel="icon" href="/Physical-AI-Humanoid-Robotics/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sidraraza.github.io/Physical-AI-Humanoid-Robotics/docs/chapter5"><link data-rh="true" rel="alternate" href="https://sidraraza.github.io/Physical-AI-Humanoid-Robotics/docs/chapter5" hreflang="en"><link data-rh="true" rel="alternate" href="https://sidraraza.github.io/Physical-AI-Humanoid-Robotics/docs/chapter5" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Chapter 5: Motion Planning & Control","item":"https://sidraraza.github.io/Physical-AI-Humanoid-Robotics/docs/chapter5"}]}</script><link rel="alternate" type="application/rss+xml" href="/Physical-AI-Humanoid-Robotics/blog/rss.xml" title="Physical AI Textbook RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Physical-AI-Humanoid-Robotics/blog/atom.xml" title="Physical AI Textbook Atom Feed"><link rel="stylesheet" href="/Physical-AI-Humanoid-Robotics/assets/css/styles.66710604.css">
<script src="/Physical-AI-Humanoid-Robotics/assets/js/runtime~main.2056297b.js" defer="defer"></script>
<script src="/Physical-AI-Humanoid-Robotics/assets/js/main.59ec3bfd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Physical-AI-Humanoid-Robotics/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Physical-AI-Humanoid-Robotics/"><div class="navbar__logo"><img src="/Physical-AI-Humanoid-Robotics/img/logo.svg" alt="Physical AI Textbook Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Physical-AI-Humanoid-Robotics/img/logo.svg" alt="Physical AI Textbook Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI Textbook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Physical-AI-Humanoid-Robotics/docs/chapter1">Book</a><a class="navbar__item navbar__link" href="/Physical-AI-Humanoid-Robotics/blog">Blog</a><a class="navbar__item navbar__link" href="/Physical-AI-Humanoid-Robotics/chatbot">Chatbot</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/SidraRaza/Physical-AI-Humanoid-Robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/docs/chapter1"><span title="Chapter 1: Introduction to Physical AI" class="linkLabel_WmDU">Chapter 1: Introduction to Physical AI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/docs/chapter2"><span title="Chapter 2: Basics of Humanoid Robotics" class="linkLabel_WmDU">Chapter 2: Basics of Humanoid Robotics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/docs/chapter3"><span title="Chapter 3: ROS 2 Fundamentals" class="linkLabel_WmDU">Chapter 3: ROS 2 Fundamentals</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/docs/chapter4"><span title="Chapter 4: Perception Systems" class="linkLabel_WmDU">Chapter 4: Perception Systems</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Physical-AI-Humanoid-Robotics/docs/chapter5"><span title="Chapter 5: Motion Planning &amp; Control" class="linkLabel_WmDU">Chapter 5: Motion Planning &amp; Control</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/docs/chapter6"><span title="Chapter 6: Learning for Robotics" class="linkLabel_WmDU">Chapter 6: Learning for Robotics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/docs/chapter7"><span title="Chapter 7: Real-World Deployment &amp; Ethics" class="linkLabel_WmDU">Chapter 7: Real-World Deployment &amp; Ethics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/docs/chapter8"><span title="Chapter 8: Advanced Robotics Simulation" class="linkLabel_WmDU">Chapter 8: Advanced Robotics Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics/docs/chapter9"><span title="Chapter 9: Human-Robot Interaction &amp; Safety" class="linkLabel_WmDU">Chapter 9: Human-Robot Interaction &amp; Safety</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Physical-AI-Humanoid-Robotics/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Chapter 5: Motion Planning &amp; Control</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Motion Planning &amp; Control</h1></header>
<p>Motion planning and control are at the heart of Physical AI, determining how robots move through the world safely and efficiently. This chapter covers the algorithms and techniques that enable humanoid robots to plan paths, maintain balance, and execute complex movements.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction-to-motion-planning">Introduction to Motion Planning<a href="#introduction-to-motion-planning" class="hash-link" aria-label="Direct link to Introduction to Motion Planning" title="Direct link to Introduction to Motion Planning" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-motion-planning-problem">The Motion Planning Problem<a href="#the-motion-planning-problem" class="hash-link" aria-label="Direct link to The Motion Planning Problem" title="Direct link to The Motion Planning Problem" translate="no">​</a></h3>
<p>Given:</p>
<ul>
<li class=""><strong>Start configuration</strong>: Current robot state</li>
<li class=""><strong>Goal configuration</strong>: Desired robot state</li>
<li class=""><strong>Obstacles</strong>: Things to avoid</li>
<li class=""><strong>Constraints</strong>: Physical limitations</li>
</ul>
<p>Find:</p>
<ul>
<li class="">A <strong>collision-free path</strong> from start to goal</li>
<li class="">That respects robot constraints</li>
<li class="">Optimized for some criteria (time, energy, smoothness)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration-space">Configuration Space<a href="#configuration-space" class="hash-link" aria-label="Direct link to Configuration Space" title="Direct link to Configuration Space" translate="no">​</a></h3>
<p>Motion planning operates in <strong>configuration space (C-space)</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           Configuration Space                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Workspace: 3D physical space                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  C-space: Space of all robot configurations     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           Dimension = number of DoF             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  C-free: Collision-free configurations          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  C-obs: Configurations in collision             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  A 7-DoF arm has a 7-dimensional C-space        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="path-planning-algorithms">Path Planning Algorithms<a href="#path-planning-algorithms" class="hash-link" aria-label="Direct link to Path Planning Algorithms" title="Direct link to Path Planning Algorithms" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="grid-based-methods">Grid-Based Methods<a href="#grid-based-methods" class="hash-link" aria-label="Direct link to Grid-Based Methods" title="Direct link to Grid-Based Methods" translate="no">​</a></h3>
<p><em><em>A</em> Algorithm</em>*</p>
<p>Classic graph search with heuristics:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">astar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> goal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> graph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> heuristic</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    open_set </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PriorityQueue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    open_set</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    came_from </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    g_score </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> open_set</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">empty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> current </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> open_set</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> current </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> goal</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> reconstruct_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">came_from</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> neighbor </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">neighbors</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tentative_g </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> g_score</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cost</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> neighbor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> tentative_g </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> g_score</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">neighbor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;inf&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                came_from</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">neighbor</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                g_score</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">neighbor</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tentative_g</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                f_score </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tentative_g </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> heuristic</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">neighbor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> goal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                open_set</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f_score</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> neighbor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># No path found</span><br></span></code></pre></div></div>
<p><strong>Properties:</strong></p>
<ul>
<li class="">Complete: Always finds a path if one exists</li>
<li class="">Optimal: Finds shortest path with admissible heuristic</li>
<li class="">Complexity: Exponential in path length</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="sampling-based-methods">Sampling-Based Methods<a href="#sampling-based-methods" class="hash-link" aria-label="Direct link to Sampling-Based Methods" title="Direct link to Sampling-Based Methods" translate="no">​</a></h3>
<p>For high-dimensional spaces, sampling methods are practical:</p>
<p><strong>Rapidly-exploring Random Trees (RRT)</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Algorithm RRT:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Initialize tree T with start configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. While goal not reached:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   a. Sample random configuration q_rand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   b. Find nearest node q_near in T</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   c. Extend from q_near toward q_rand to get q_new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   d. If path q_near → q_new is collision-free:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Add q_new to T with edge from q_near</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Return path from start to goal</span><br></span></code></pre></div></div>
<p><strong>RRT Properties:</strong></p>
<ul>
<li class="">Probabilistically complete</li>
<li class="">Explores space efficiently</li>
<li class="">May produce suboptimal paths</li>
</ul>
<p><em><em>RRT</em> (Optimal RRT)</em>*</p>
<p>Improves path quality through rewiring:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rrt_star</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> goal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> space</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_iterations</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tree </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Tree</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parent</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cost</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_iterations</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Sample random point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        q_rand </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> space</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sample</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Find nearest node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        q_near </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nearest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_rand</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Steer toward random point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        q_new </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> steer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_near</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q_rand</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> space</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collision_free</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_near</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q_new</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Find nearby nodes for rewiring</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            near_nodes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">near</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_new</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> radius</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Choose best parent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            q_min </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> q_near</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            c_min </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cost</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_near</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> distance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_near</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q_new</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> q_near_i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> near_nodes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                c_new </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cost</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_near_i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> distance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_near_i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q_new</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> c_new </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> c_min </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> space</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collision_free</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_near_i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q_new</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    q_min </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> q_near_i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    c_min </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> c_new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Add new node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_new</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parent</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">q_min</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cost</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">c_min</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Rewire nearby nodes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> q_near_i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> near_nodes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                c_new </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> c_min </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> distance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_new</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q_near_i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> c_new </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cost</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_near_i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> space</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collision_free</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_new</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q_near_i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rewire</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_near_i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parent</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">q_new</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cost</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">c_new</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path_to_goal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">goal</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="probabilistic-roadmaps-prm">Probabilistic Roadmaps (PRM)<a href="#probabilistic-roadmaps-prm" class="hash-link" aria-label="Direct link to Probabilistic Roadmaps (PRM)" title="Direct link to Probabilistic Roadmaps (PRM)" translate="no">​</a></h3>
<p>Two-phase approach:</p>
<p><strong>Phase 1: Roadmap Construction</strong></p>
<ol>
<li class="">Sample n random configurations</li>
<li class="">Connect nearby configurations with collision-free edges</li>
<li class="">Result: Graph representing free space</li>
</ol>
<p><strong>Phase 2: Query</strong></p>
<ol>
<li class="">Connect start and goal to roadmap</li>
<li class="">Search for path in roadmap graph</li>
<li class="">Return path if found</li>
</ol>
<p><strong>Best for:</strong></p>
<ul>
<li class="">Multiple queries in same environment</li>
<li class="">Complex, cluttered spaces</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="trajectory-optimization">Trajectory Optimization<a href="#trajectory-optimization" class="hash-link" aria-label="Direct link to Trajectory Optimization" title="Direct link to Trajectory Optimization" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="from-path-to-trajectory">From Path to Trajectory<a href="#from-path-to-trajectory" class="hash-link" aria-label="Direct link to From Path to Trajectory" title="Direct link to From Path to Trajectory" translate="no">​</a></h3>
<p>A <strong>path</strong> is purely geometric; a <strong>trajectory</strong> includes timing:</p>
<ul>
<li class="">Path: q(s), s ∈ [0, 1]</li>
<li class="">Trajectory: q(t), t ∈ [0, T]</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="trajectory-optimization-formulation">Trajectory Optimization Formulation<a href="#trajectory-optimization-formulation" class="hash-link" aria-label="Direct link to Trajectory Optimization Formulation" title="Direct link to Trajectory Optimization Formulation" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">minimize    ∫ L(q(t), q̇(t), q̈(t)) dt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   q(t)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subject to  q(0) = q_start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            q(T) = q_goal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            q̇(t) ∈ velocity limits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            q̈(t) ∈ acceleration limits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            collision_free(q(t)) ∀t</span><br></span></code></pre></div></div>
<p>Common cost functions:</p>
<ul>
<li class=""><strong>Minimum time</strong>: L = 1</li>
<li class=""><strong>Minimum energy</strong>: L = τᵀτ (torques squared)</li>
<li class=""><strong>Minimum jerk</strong>: L = q⃛ᵀq⃛ (third derivative)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="numerical-optimization-methods">Numerical Optimization Methods<a href="#numerical-optimization-methods" class="hash-link" aria-label="Direct link to Numerical Optimization Methods" title="Direct link to Numerical Optimization Methods" translate="no">​</a></h3>
<p><strong>Direct Transcription</strong></p>
<ul>
<li class="">Discretize trajectory into waypoints</li>
<li class="">Convert to nonlinear program (NLP)</li>
<li class="">Solve with NLP solvers (IPOPT, SNOPT)</li>
</ul>
<p><strong>Differential Dynamic Programming (DDP)</strong></p>
<ul>
<li class="">Second-order method</li>
<li class="">Iteratively improves trajectory</li>
<li class="">Good for dynamic systems</li>
</ul>
<p><strong>CHOMP and STOMP</strong></p>
<ul>
<li class="">Covariant Hamiltonian Optimization</li>
<li class="">Stochastic Trajectory Optimization</li>
<li class="">Handle complex cost functions</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="humanoid-balance-control">Humanoid Balance Control<a href="#humanoid-balance-control" class="hash-link" aria-label="Direct link to Humanoid Balance Control" title="Direct link to Humanoid Balance Control" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-balance-problem">The Balance Problem<a href="#the-balance-problem" class="hash-link" aria-label="Direct link to The Balance Problem" title="Direct link to The Balance Problem" translate="no">​</a></h3>
<p>Humanoids must actively maintain balance:</p>
<ul>
<li class=""><strong>Static Balance</strong>: CoM over support polygon</li>
<li class=""><strong>Dynamic Balance</strong>: Zero Moment Point (ZMP) in support</li>
<li class=""><strong>Push Recovery</strong>: Responding to disturbances</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="zero-moment-point-zmp">Zero Moment Point (ZMP)<a href="#zero-moment-point-zmp" class="hash-link" aria-label="Direct link to Zero Moment Point (ZMP)" title="Direct link to Zero Moment Point (ZMP)" translate="no">​</a></h3>
<p>The ZMP is where the total moment of inertia and gravity forces is zero:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ZMP condition for stability:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The ZMP must remain within the support polygon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Support Polygon:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    ┌─────────────┐      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    │  Left Foot  │      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    └─────────────┘      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           ZMP •         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    ┌─────────────┐      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    │  Right Foot │      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    └─────────────┘      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="linear-inverted-pendulum-model-lipm">Linear Inverted Pendulum Model (LIPM)<a href="#linear-inverted-pendulum-model-lipm" class="hash-link" aria-label="Direct link to Linear Inverted Pendulum Model (LIPM)" title="Direct link to Linear Inverted Pendulum Model (LIPM)" translate="no">​</a></h3>
<p>Simplified model for walking:</p>
<p><strong>Assumptions:</strong></p>
<ul>
<li class="">Mass concentrated at Center of Mass (CoM)</li>
<li class="">CoM moves at constant height</li>
<li class="">No angular momentum</li>
</ul>
<p><strong>Dynamics:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CoM acceleration = (g/z_c) × (CoM position - ZMP position)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- g: gravity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- z_c: CoM height</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- This is an unstable second-order system</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="capture-point-dynamics">Capture Point Dynamics<a href="#capture-point-dynamics" class="hash-link" aria-label="Direct link to Capture Point Dynamics" title="Direct link to Capture Point Dynamics" translate="no">​</a></h3>
<p>The <strong>Capture Point (CP)</strong> is where the robot must step to stop:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CP = CoM + CoM_velocity / ω</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where ω = √(g/z_c)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If the robot places its foot at the CP, it can come to rest.</span><br></span></code></pre></div></div>
<p><strong>Divergent Component of Motion (DCM)</strong>:
Modern extension of capture point theory for more complex scenarios.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="walking-pattern-generation">Walking Pattern Generation<a href="#walking-pattern-generation" class="hash-link" aria-label="Direct link to Walking Pattern Generation" title="Direct link to Walking Pattern Generation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="footstep-planning">Footstep Planning<a href="#footstep-planning" class="hash-link" aria-label="Direct link to Footstep Planning" title="Direct link to Footstep Planning" translate="no">​</a></h3>
<p>Determining where to place feet:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           Footstep Planning                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Input: Start pose, goal pose, obstacles        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Output: Sequence of footstep locations         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──┐                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │L1│                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──┘  ┌──┐                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │R1│                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──┐  └──┘                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │L2│       ┌──┐                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──┘       │R2│                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           ┌──┐ └──┘                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │L3│                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           └──┘  ┌──┐                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                 │R3│ Goal                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                 └──┘                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="center-of-mass-trajectory">Center of Mass Trajectory<a href="#center-of-mass-trajectory" class="hash-link" aria-label="Direct link to Center of Mass Trajectory" title="Direct link to Center of Mass Trajectory" translate="no">​</a></h3>
<p>Once footsteps are planned, generate CoM trajectory:</p>
<p><strong>Preview Control</strong>:</p>
<ul>
<li class="">Use future footstep locations</li>
<li class="">Plan CoM trajectory to keep ZMP stable</li>
<li class="">MPC-based approaches common</li>
</ul>
<p><strong>CoM Trajectory Requirements:</strong></p>
<ul>
<li class="">ZMP stays in support polygon</li>
<li class="">Smooth transitions between support phases</li>
<li class="">Respect velocity/acceleration limits</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="swing-leg-trajectory">Swing Leg Trajectory<a href="#swing-leg-trajectory" class="hash-link" aria-label="Direct link to Swing Leg Trajectory" title="Direct link to Swing Leg Trajectory" translate="no">​</a></h3>
<p>Moving the non-support leg:</p>
<ul>
<li class=""><strong>Ground clearance</strong>: Avoid obstacles</li>
<li class=""><strong>Smooth motion</strong>: Minimize vibrations</li>
<li class=""><strong>Landing preparation</strong>: Appropriate velocity at contact</li>
</ul>
<p>Typically polynomial (cubic, quintic) or spline trajectories.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="whole-body-control">Whole-Body Control<a href="#whole-body-control" class="hash-link" aria-label="Direct link to Whole-Body Control" title="Direct link to Whole-Body Control" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="task-space-control">Task-Space Control<a href="#task-space-control" class="hash-link" aria-label="Direct link to Task-Space Control" title="Direct link to Task-Space Control" translate="no">​</a></h3>
<p>Control in Cartesian space rather than joint space:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Task: Control end-effector position x ∈ ℝ³</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Joint configuration: q ∈ ℝⁿ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Forward kinematics: x = f(q)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Jacobian: J = ∂f/∂q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Velocity mapping: ẋ = J(q)q̇</span><br></span></code></pre></div></div>
<p><strong>Resolved Rate Control:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q̇ = J⁺ẋ_desired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where J⁺ is the pseudoinverse of J</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hierarchical-task-control">Hierarchical Task Control<a href="#hierarchical-task-control" class="hash-link" aria-label="Direct link to Hierarchical Task Control" title="Direct link to Hierarchical Task Control" translate="no">​</a></h3>
<p>Managing multiple tasks with priorities:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Priority Stack:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Safety constraints (highest)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Balance maintenance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. End-effector task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Posture optimization (lowest)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lower priority tasks operate in null space of higher priorities.</span><br></span></code></pre></div></div>
<p><strong>Null Space Projection:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">hierarchical_control</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tasks</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> jacobians</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    q_dot </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zeros</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_joints</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    N </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">eye</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_joints</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Null space projector</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> task</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> J </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">zip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tasks</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> jacobians</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Project task into available null space</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        J_proj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> J @ N</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Compute task contribution</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        q_dot </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pinv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">J_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> @ </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">task </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> J @ q_dot</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Update null space for next level</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        N </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> N </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pinv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">J_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> @ J_proj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> q_dot</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="optimization-based-control">Optimization-Based Control<a href="#optimization-based-control" class="hash-link" aria-label="Direct link to Optimization-Based Control" title="Direct link to Optimization-Based Control" translate="no">​</a></h3>
<p>Modern whole-body control uses QP optimization:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">minimize    ||J_task q̇ - ẋ_desired||² + regularization terms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  q̇, τ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subject to  Dynamics: M(q)q̈ + h(q,q̇) = Sτ + Jᶜᵀf_c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Joint limits: q_min ≤ q ≤ q_max</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Torque limits: τ_min ≤ τ ≤ τ_max</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Contact constraints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Friction cone constraints</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="impedance-and-compliance-control">Impedance and Compliance Control<a href="#impedance-and-compliance-control" class="hash-link" aria-label="Direct link to Impedance and Compliance Control" title="Direct link to Impedance and Compliance Control" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="impedance-control">Impedance Control<a href="#impedance-control" class="hash-link" aria-label="Direct link to Impedance Control" title="Direct link to Impedance Control" translate="no">​</a></h3>
<p>Make robot behave like a spring-damper system:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Desired behavior:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F = K(x_d - x) + D(ẋ_d - ẋ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- K: Stiffness matrix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- D: Damping matrix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- x_d: Desired position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- x: Actual position</span><br></span></code></pre></div></div>
<p><strong>Benefits:</strong></p>
<ul>
<li class="">Safe interaction with environment</li>
<li class="">Robust to position errors</li>
<li class="">Natural compliance for contact tasks</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="variable-impedance">Variable Impedance<a href="#variable-impedance" class="hash-link" aria-label="Direct link to Variable Impedance" title="Direct link to Variable Impedance" translate="no">​</a></h3>
<p>Adjusting stiffness based on task:</p>
<ul>
<li class=""><strong>High stiffness</strong>: Precise positioning</li>
<li class=""><strong>Low stiffness</strong>: Safe contact, compliant motion</li>
<li class=""><strong>Adaptive</strong>: Learn appropriate impedance</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="model-predictive-control-mpc">Model Predictive Control (MPC)<a href="#model-predictive-control-mpc" class="hash-link" aria-label="Direct link to Model Predictive Control (MPC)" title="Direct link to Model Predictive Control (MPC)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mpc-framework">MPC Framework<a href="#mpc-framework" class="hash-link" aria-label="Direct link to MPC Framework" title="Direct link to MPC Framework" translate="no">​</a></h3>
<p>Optimize over a rolling horizon:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">At each time step:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Measure current state x(t)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Solve optimization over horizon [t, t+T]:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   minimize Σ L(x_k, u_k) + V(x_N)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   subject to dynamics, constraints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Apply first control u(t)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Repeat at next time step</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mpc-for-locomotion">MPC for Locomotion<a href="#mpc-for-locomotion" class="hash-link" aria-label="Direct link to MPC for Locomotion" title="Direct link to MPC for Locomotion" translate="no">​</a></h3>
<p><strong>Centroidal MPC:</strong></p>
<ul>
<li class="">Control center of mass and angular momentum</li>
<li class="">Optimize contact forces</li>
<li class="">Runs at ~100-500 Hz</li>
</ul>
<p><strong>Full-Body MPC:</strong></p>
<ul>
<li class="">Control all joints</li>
<li class="">More accurate but computationally expensive</li>
<li class="">Emerging with faster solvers</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="safety-and-constraint-handling">Safety and Constraint Handling<a href="#safety-and-constraint-handling" class="hash-link" aria-label="Direct link to Safety and Constraint Handling" title="Direct link to Safety and Constraint Handling" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="collision-avoidance">Collision Avoidance<a href="#collision-avoidance" class="hash-link" aria-label="Direct link to Collision Avoidance" title="Direct link to Collision Avoidance" translate="no">​</a></h3>
<p>Real-time collision checking:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">check_collision</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">robot_state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> obstacles</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Get robot geometry at current state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    robot_geometry </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> robot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_collision_geometry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">robot_state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Check against all obstacles</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> obstacle </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> obstacles</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> gjk_collision_check</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">robot_geometry</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> obstacle</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Collision detected</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># No collision</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="safety-constraints-in-control">Safety Constraints in Control<a href="#safety-constraints-in-control" class="hash-link" aria-label="Direct link to Safety Constraints in Control" title="Direct link to Safety Constraints in Control" translate="no">​</a></h3>
<p>Embedding safety in the control loop:</p>
<p><strong>Control Barrier Functions (CBFs):</strong>
Ensure safety set is forward invariant</p>
<p><strong>Velocity/Force Limiting:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">safe_command</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">desired_cmd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> limits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Clip to joint velocity limits</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    safe_vel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">desired_cmd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">velocity</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       limits</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vel_min</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> limits</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vel_max</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Clip to joint torque limits</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    safe_torque </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">desired_cmd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">torque</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          limits</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">torque_min</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> limits</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">torque_max</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> SafeCommand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">safe_vel</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> safe_torque</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>Motion planning and control enable humanoid robots to move effectively:</p>
<ul>
<li class=""><strong>Path Planning</strong>: Finding collision-free paths (RRT, PRM, A*)</li>
<li class=""><strong>Trajectory Optimization</strong>: Smooth, optimal motion</li>
<li class=""><strong>Balance Control</strong>: Maintaining stability (ZMP, Capture Point)</li>
<li class=""><strong>Walking Generation</strong>: Footsteps and CoM trajectories</li>
<li class=""><strong>Whole-Body Control</strong>: Coordinating all degrees of freedom</li>
<li class=""><strong>Safety</strong>: Ensuring safe operation at all times</li>
</ul>
<p>Modern approaches increasingly use:</p>
<ul>
<li class="">Optimization-based methods</li>
<li class="">Model Predictive Control</li>
<li class="">Learning-based components</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="review-questions">Review Questions<a href="#review-questions" class="hash-link" aria-label="Direct link to Review Questions" title="Direct link to Review Questions" translate="no">​</a></h2>
<ol>
<li class="">Explain the difference between C-space and workspace.</li>
<li class="">Compare RRT and PRM planning algorithms.</li>
<li class="">What is the Zero Moment Point and why is it important?</li>
<li class="">Describe the hierarchical task control approach.</li>
<li class="">How does Model Predictive Control work for locomotion?</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="hands-on-exercise">Hands-On Exercise<a href="#hands-on-exercise" class="hash-link" aria-label="Direct link to Hands-On Exercise" title="Direct link to Hands-On Exercise" translate="no">​</a></h2>
<p><strong>Exercise 5.1: Motion Planning Implementation</strong></p>
<p>Implement a simple motion planner:</p>
<ol>
<li class="">Create a 2D environment with obstacles</li>
<li class="">Implement RRT algorithm</li>
<li class="">Implement RRT* for path optimization</li>
<li class="">Visualize the exploration tree and final path</li>
<li class="">Compare path quality and computation time</li>
</ol>
<p>Extensions:</p>
<ul>
<li class="">Add dynamics constraints</li>
<li class="">Implement trajectory smoothing</li>
<li class="">Add real-time replanning capability</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/SidraRaza/Physical-AI-Humanoid-Robotics/edit/main/docs/chapter5.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Physical-AI-Humanoid-Robotics/docs/chapter4"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Chapter 4: Perception Systems</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Physical-AI-Humanoid-Robotics/docs/chapter6"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chapter 6: Learning for Robotics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction-to-motion-planning" class="table-of-contents__link toc-highlight">Introduction to Motion Planning</a><ul><li><a href="#the-motion-planning-problem" class="table-of-contents__link toc-highlight">The Motion Planning Problem</a></li><li><a href="#configuration-space" class="table-of-contents__link toc-highlight">Configuration Space</a></li></ul></li><li><a href="#path-planning-algorithms" class="table-of-contents__link toc-highlight">Path Planning Algorithms</a><ul><li><a href="#grid-based-methods" class="table-of-contents__link toc-highlight">Grid-Based Methods</a></li><li><a href="#sampling-based-methods" class="table-of-contents__link toc-highlight">Sampling-Based Methods</a></li><li><a href="#probabilistic-roadmaps-prm" class="table-of-contents__link toc-highlight">Probabilistic Roadmaps (PRM)</a></li></ul></li><li><a href="#trajectory-optimization" class="table-of-contents__link toc-highlight">Trajectory Optimization</a><ul><li><a href="#from-path-to-trajectory" class="table-of-contents__link toc-highlight">From Path to Trajectory</a></li><li><a href="#trajectory-optimization-formulation" class="table-of-contents__link toc-highlight">Trajectory Optimization Formulation</a></li><li><a href="#numerical-optimization-methods" class="table-of-contents__link toc-highlight">Numerical Optimization Methods</a></li></ul></li><li><a href="#humanoid-balance-control" class="table-of-contents__link toc-highlight">Humanoid Balance Control</a><ul><li><a href="#the-balance-problem" class="table-of-contents__link toc-highlight">The Balance Problem</a></li><li><a href="#zero-moment-point-zmp" class="table-of-contents__link toc-highlight">Zero Moment Point (ZMP)</a></li><li><a href="#linear-inverted-pendulum-model-lipm" class="table-of-contents__link toc-highlight">Linear Inverted Pendulum Model (LIPM)</a></li><li><a href="#capture-point-dynamics" class="table-of-contents__link toc-highlight">Capture Point Dynamics</a></li></ul></li><li><a href="#walking-pattern-generation" class="table-of-contents__link toc-highlight">Walking Pattern Generation</a><ul><li><a href="#footstep-planning" class="table-of-contents__link toc-highlight">Footstep Planning</a></li><li><a href="#center-of-mass-trajectory" class="table-of-contents__link toc-highlight">Center of Mass Trajectory</a></li><li><a href="#swing-leg-trajectory" class="table-of-contents__link toc-highlight">Swing Leg Trajectory</a></li></ul></li><li><a href="#whole-body-control" class="table-of-contents__link toc-highlight">Whole-Body Control</a><ul><li><a href="#task-space-control" class="table-of-contents__link toc-highlight">Task-Space Control</a></li><li><a href="#hierarchical-task-control" class="table-of-contents__link toc-highlight">Hierarchical Task Control</a></li><li><a href="#optimization-based-control" class="table-of-contents__link toc-highlight">Optimization-Based Control</a></li></ul></li><li><a href="#impedance-and-compliance-control" class="table-of-contents__link toc-highlight">Impedance and Compliance Control</a><ul><li><a href="#impedance-control" class="table-of-contents__link toc-highlight">Impedance Control</a></li><li><a href="#variable-impedance" class="table-of-contents__link toc-highlight">Variable Impedance</a></li></ul></li><li><a href="#model-predictive-control-mpc" class="table-of-contents__link toc-highlight">Model Predictive Control (MPC)</a><ul><li><a href="#mpc-framework" class="table-of-contents__link toc-highlight">MPC Framework</a></li><li><a href="#mpc-for-locomotion" class="table-of-contents__link toc-highlight">MPC for Locomotion</a></li></ul></li><li><a href="#safety-and-constraint-handling" class="table-of-contents__link toc-highlight">Safety and Constraint Handling</a><ul><li><a href="#collision-avoidance" class="table-of-contents__link toc-highlight">Collision Avoidance</a></li><li><a href="#safety-constraints-in-control" class="table-of-contents__link toc-highlight">Safety Constraints in Control</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#review-questions" class="table-of-contents__link toc-highlight">Review Questions</a></li><li><a href="#hands-on-exercise" class="table-of-contents__link toc-highlight">Hands-On Exercise</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics/docs/chapter1">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics/chatbot">AI Chatbot</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/SidraRaza/Physical-AI-Humanoid-Robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/deep-learning" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Physical AI Textbook. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>